<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="kr.co.syteam.mapper.BoardMapper">

	<insert id="boardWrite" parameterType="kr.co.syteam.domain.board.dto.BoardDTO">
		<![CDATA[
			INSERT INTO BOARD_TABLE(BOARD_NO, BOARD_TITLE, BOARD_CONTENTS, USER_ID, BOARD_WRITE_DATE, BOARD_MODIFY_DATE)
			VALUES (board_seq.nextval, #{board_title}, #{board_contents}, #{user_id}, sysdate, sysdate)
		]]>
	</insert>
	
	<select id="boardList" resultType="kr.co.syteam.domain.board.vo.BoardVO">
		<![CDATA[
			SELECT BOARD_NO, BOARD_TITLE, USER_ID, BOARD_WRITE_DATE, BOARD_MODIFY_DATE, BOARD_HITCOUNT
			FROM BOARD_TABLE
			ORDER BY BOARD_NO DESC
		]]>
	</select>
	
	<select id="boardView" resultType="kr.co.syteam.domain.board.vo.BoardVO">
		<![CDATA[
			SELECT BOARD_NO, BOARD_TITLE, BOARD_CONTENTS, USER_ID, BOARD_WRITE_DATE, BOARD_HITCOUNT
			FROM BOARD_TABLE
			WHERE BOARD_NO = #{board_no}
		]]>
	</select>
	
	<update id="boardHitCount">
		<![CDATA[
			UPDATE BOARD_TABLE
			SET BOARD_HITCOUNT = BOARD_HITCOUNT + 1
			WHERE BOARD_NO = #{board_no}
		]]>
	</update>
	
</mapper>